openapi: 3.0.0
# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®èª¬æ˜
info:
  version: 1.0.0
  # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«
  title: GayaON! API
  # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®èª¬æ˜
  description:
# ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ
servers:
  - url: "http://localhost:8080/"
tags:
  - name: HealthCheck
    description: ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ç”¨ API
  - name: Room
    description: Room API
  - name: Message
    description: Message API
paths:
  # HealthCheck ã‚°ãƒ«ãƒ¼ãƒ—
  /health-check:
    get:
      tags:
        - HealthCheck
      summary: ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
      description: ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†
      operationId: healthcheck
      responses:
        200:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  health_check:
                    type: string
                    example: "ok"
  # Room ã‚°ãƒ«ãƒ¼ãƒ—
  /v1/room/create:
    post:
      tags:
        - Room
      summary: ãƒ«ãƒ¼ãƒ ä½œæˆ
      description: ãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹
      operationId: createRoom
      responses:
        200:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "success"
                  token:
                    type: string
                    example: "a1b2c3"
        500:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "failed"
                  error:
                    type: string
                    example: "error message"
  /v1/room/find:
    post:
      tags:
        - Room
      summary: ãƒ«ãƒ¼ãƒ ã®å­˜åœ¨æ€§ç¢ºèª
      description: ãƒ«ãƒ¼ãƒ ã®å­˜åœ¨æ€§ã‚’ç¢ºèªã™ã‚‹
      operationId: findRoom
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  example: "a1b2c3"
      responses:
        200:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              examples:
                ãƒ«ãƒ¼ãƒ ãŒå­˜åœ¨ã™ã‚‹æ™‚:
                  value:
                    message: "found"
                    token: "a1b2c3"
#                ãƒ«ãƒ¼ãƒ ãŒå­˜åœ¨ã—ãªã„æ™‚:
#                  value:
#                    message: "not found"
#                    token: "a1b2c3"
        400:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "failed"
                  error:
                    type: string
                    example: "not found"
        500:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "failed"
                  error:
                    type: string
                    example: "error message"
  # Message ã‚°ãƒ«ãƒ¼ãƒ—
  /v1/message/send:
    post:
      tags:
        - Message
      summary: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
      description: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹
      operationId: sendMessage
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  example: "a1b2c3"
                message_type:
                  type: string
                  example: "text"
                message_body:
                  type: string
                  example: "hello"
      responses:
        200:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "success"
        400:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "failed"
                  error:
                    type: string
                    example: "room not found"
        500:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "failed"
                  error:
                    type: string
                    example: "error message"
  /v1/message/get-all:
    post:
      tags:
        - Message
      summary: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¨ä»¶å–å¾—
      description: æŒ‡å®šã•ã‚ŒãŸãƒ«ãƒ¼ãƒ ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¨ã¦å–å¾—ã™ã‚‹
      operationId: getAllMessage
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  example: "a1b2c3"
      responses:
        200:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "success"
                  messages:
                    type: array
                    items:
                      example:
                        - message_type: "text"
                          message_body: "hello"
                        - message_type: "emoji"
                          message_body: "ğŸ˜€"
        400:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "failed"
                  error:
                    type: string
                    example: "room not found"
        500:
          description: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µãƒ³ãƒ—ãƒ«
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "failed"
                  error:
                    type: string
                    example: "error message"